<!DOCTYPE html>
<html>
  <head>
    <meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1, maximum-scale=1">
    <meta charset="utf-8">
    <title>Crosswordle</title>
    <link rel="stylesheet" href="style/style.css">
    <script src="src/puzzles.js"></script>
    <script src="src/game.js"></script>
    <script>
      (function(a,b,c){var d=a.history,e=document,f=navigator||{},g=localStorage,
      h=encodeURIComponent,i=d.pushState,k=function(){return Math.random().toString(36)},
      l=function(){return g.cid||(g.cid=k()),g.cid},m=function(r){var s=[];for(var t in r)
      r.hasOwnProperty(t)&&void 0!==r[t]&&s.push(h(t)+"="+h(r[t]));return s.join("&")},
      n=function(r,s,t,u,v,w,x){var z="https://www.google-analytics.com/collect",
      A=m({v:"1",ds:"web",aip:c.anonymizeIp?1:void 0,tid:b,cid:l(),t:r||"pageview",
      sd:c.colorDepth&&screen.colorDepth?screen.colorDepth+"-bits":void 0,dr:e.referrer||
      void 0,dt:e.title,dl:e.location.origin+e.location.pathname+e.location.search,ul:c.language?
      (f.language||"").toLowerCase():void 0,de:c.characterSet?e.characterSet:void 0,
      sr:c.screenSize?(a.screen||{}).width+"x"+(a.screen||{}).height:void 0,vp:c.screenSize&&
      a.visualViewport?(a.visualViewport||{}).width+"x"+(a.visualViewport||{}).height:void 0,
      ec:s||void 0,ea:t||void 0,el:u||void 0,ev:v||void 0,exd:w||void 0,exf:"undefined"!=typeof x&&
      !1==!!x?0:void 0});if(f.sendBeacon)f.sendBeacon(z,A);else{var y=new XMLHttpRequest;
      y.open("POST",z,!0),y.send(A)}};d.pushState=function(r){return"function"==typeof d.onpushstate&&
      d.onpushstate({state:r}),setTimeout(n,c.delay||10),i.apply(d,arguments)},n(),
      a.ma={trackEvent:function o(r,s,t,u){return n("event",r,s,t,u)},
      trackException:function q(r,s){return n("exception",null,null,null,null,r,s)}}})
      (window,"G-MC1F3RJECH",{anonymizeIp:true,colorDepth:true,characterSet:true,screenSize:true,language:true});
    </script>
    <!-- Cloudflare Web Analytics -->
    <script>
      if (window.location.origin.match(/https?:\/\/crosswordle\.(pages\.dev|serializer\.ca)/)) {
        let scriptNode = document.createElement('script');
        scriptNode.setAttribute('defer', '');
        scriptNode.setAttribute('data-cf-beacon', '{"token": "7772a76193754930aaf3cdeafdca2db4"}');
        scriptNode.setAttribute('src', 'https://static.cloudflareinsights.com/beacon.min.js');
        document.head.appendChild(scriptNode);
      }
    </script>
  </head>
  <body>
    <div class="help screen">
      <div class="message">
        <button class="close" id="close-help">❌</button>
        <div>
          <h1>Crosswordle</h1>
          <p>
            The goal is to guess the two crossing words in as few guesses as possible.
            Each guess must be composed of valid words. After each guess you'll get a
            clue, e.g.
          </p>
          <div class="flipped grid">
            <div style="grid-area: 2 / 1">
              <div class="green tile"><div>C</div></div>
            </div>
            <div style="grid-area: 2 / 2">
              <div class="tile"><div>R</div></div>
            </div>
            <div style="grid-area: 2 / 3">
              <div class="yellow tile"><div>O</div></div>
            </div>
            <div style="grid-area: 2 / 4">
              <div class="yellow tile"><div>S</div></div>
            </div>
            <div style="grid-area: 2 / 5">
              <div class="tile"><div>S</div></div>
            </div>
            <div style="grid-area: 1 / 3">
              <div class="tile"><div>W</div></div>
            </div>
            <div style="grid-area: 3 / 3">
              <div class="tile"><div>R</div></div>
            </div>
            <div style="grid-area: 4 / 3">
              <div class="yellow tile"><div>D</div></div>
            </div>
          </div>
          <p>
            For compactness, this will be summarized as:
          </p>
          <div class="clues">
            <div>
              <div class="green tile"><div>C</div></div>
              <div class="tile"><div>R</div></div>
              <div class="yellow tile"><div>O</div></div>
              <div class="yellow tile"><div>S</div></div>
              <div class="tile"><div>S</div></div>
              <div class="empty"></div>
              <div class="tile"><div>W</div></div>
              <div class="yellow tile"><div>O</div></div>
              <div class="tile"><div>R</div></div>
              <div class="yellow tile"><div>D</div></div>
            </div>
          </div>
          <p>
            Green indicates the letter is in the correct location. Yellow indicates a
            correct letter in the wrong location. Each yellow tile corresponds to one
            of that letter. For example, in this case the answer has only one S so
            only the first S turned yellow.
          </p>
          <p>
            From the above clue, you can infer:
          </p>
          <ul>
            <li>There is a C at the start of the horizontal word.</li>
            <li>There is an O in at least one of the words. Note that there was only one O in your guess, even though it is displayed twice in the summary.</li>
            <li>There is exactly one S in one of the words.</li>
            <li>There is no W or R in the answer.</li>
            <li>There is a D in at least one of the words.</li>
          </ul>
          <p>
            Hint: The two words are related.
          </p>
        </div>
      </div>
    </div>
    <div class="settings screen">
      <div class="message">
        <button class="close" id="close-settings">❌</button>
        <div>
          <h1>Settings</h1>
          <hr>
          <div><input id="skip-filled" type="checkbox"> Skip filled positions</div>
          <div><input id="dynamic-keyboard" type="checkbox"> Keyboard clues for remaining letters</div>
          <div><input id="hard-mode" type="checkbox"> Hard mode</div>
          <p>Create your own crosswordle:</p>
          <input id="custom-crosswordle" placeholder="crossing words"><button id="create">Create</button><br>
          <p id="custom-error"></p>
          <a id="custom-link"></a>

          <p>Inspired by the popular <a href="https://www.powerlanguage.co.uk/wordle/">Wordle</a> game.
            Dictionary file from aspell6 package. See <a href="third_party/aspell6-en/Copyright">Copyright</a> for details.</p>
        </div>
      </div>
    </div>
    <div class="victory screen">
      <div class="message">
        <button class="close" id="close-victory">❌</button>
        <div>
          <h1>Victory</h1>
          <hr>
          <p>You got it in <span id="guesses"></span> guesses</p>
          <p>Click <button id="share">Share</button> to copy a summary of your game.</p>
        </div>
        </div>
    </div>
    <div class="main">
      <div class="title">
        <div class="menu">
          <button id="show-help">❓</button>
          <button id="show-settings">⚙️</button>
        </div>
        <h1>Crosswordle</h1>
      </div>
      <div class="clues"></div>
      <div class="grid"></div>
      <div class="keyboard"></div>
    </div>
    <div class="modal screen">
      <div class="message"></div>
    </div>
  </body>
</html>
